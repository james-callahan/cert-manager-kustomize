apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
commonLabels:
  app.kubernetes.io/name: cert-manager
  app.kubernetes.io/component: controller
resources:
  - deployment.yaml
  - rbac.yaml
  - service.yaml
  - serviceaccount.yaml
patches:
  - patch: |
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: cert-manager
      spec:
        template:
          spec:
            containers:
              - name: cert-manager-controller
                env:
                  - name: CERT_MANAGER_ACME_HTTP01_SOLVER_IMAGE
                    # renovate: datasource=docker
                    value: quay.io/jetstack/cert-manager-acmesolver:v1.19.0@sha256:3a2d06e891f981ddbc1a9ee4072b7f9c48f665ce70533dfa79409c748d1da6cc
images:
  - name: quay.io/jetstack/cert-manager-controller
    newTag: v1.19.0@sha256:f9d0d0d8179da47417d2637f4f42070973d7b49d6efa04600cdcf53c5e695074
